#`@-правила` CSS


`@-правило` — директива, которая позволяет создавать в CSS инструкции 
для изменения отображения либо поведения элементов страницы. 
Директива начинается со знака «@», за которым следует одно из служебных слов. 
Это общий синтаксис, которому следуют все `@-правила`.

## Обычные правила

Такие правила следуют стандартному синтаксису:

    @[КЛЮЧЕВОЕ СЛОВО] (ПРАВИЛО);

### `@charset`

Это правило определяет кодировку, используемую браузером. Это очень удобно, если
таблица стилей содержит символы, не входящие в [ASCII][1] (например [UTF-8][2]).
Обратите внимание, что кодировка [указанная в HTTP-заголовке][3]
переопределяет любые `@charset`, заданные в вашей таблице стилей.

    @charset "UTF-8";

### `@import`

Это правило сообщает таблице стилей о необходимости запросить и включить 
в себя внешний CSS-файл, причем содержимое этого файла будет добавлено
непосредственно в то место, где находится `@import`.

    @import 'global.css';

Учитывая популярность CSS-препроцессоров, которые поддерживают `@import`,
нужно помнить о том, что препроцессоры трактуют правило иначе, чем это
делает обычный CSS. Препроцессор запрашивает все импортируемые файлы,
обрабатывает их и отдает на выходе один CSS-файл. Обычный CSS обрабатывает
каждый `@import` как отдельный HTTP-запрос для каждого файла.

### `@namespace`

Это правило особенно полезно для применения CSS к XML HTML (XHTML), с его
помощью XHTML-элементы могут быть использованы как CSS-селекторы.

    /* Пространство имен для XHTML */
    @namespace url(http://www.w3.org/1999/xhtml);

    /* Пространство имен для SVG встроенного в XHTML */
    @namespace svg url(http://www.w3.org/2000/svg);

## Вложенные правила

Вложенные правила содержат подмножество дополнительных объявлений, 
которые могут быть условиями для конкретных ситуаций.

    @[KEYWORD] {
      /* Вложенные утверждения */
    }

### `@document`

Это правило определяет условия для стилей, которые применяются 
к конкретной странице. Например, можно задать URL и затем 
настроить стили именно для этой страницы. На других страницах 
такие стили будут проигнорированы.

    @document
      /* Устанавливает правила для конкретной страницы */
      url(http://css-tricks.com/),

      /* Устанавливает правила для страниц, чей URL начинается с … */
      url-prefix(http://css-tricks.com/snippets/),

      /* Устанавливает правила для всех страниц, принадлежащих домену */
      domain(css-tricks.com),

      /* Правила для всех страниц с протоколом шифрования */
      regexp("https:.*")
    {

      /* Описание стилей */
      body { font-family: Comic Sans; }

    }

На момент написания статьи поддержка `@document` была довольно небольшой:

| Chrome | Safari | Firefox | Opera | IE  | Android | iOS |
|:------:|:------:|:-------:|:-----:|:---:|:-------:|:---:|
| Нет    | Нет    | `-moz`  | Нет   | Нет | Нет     | Нет |


### `@font-face`

Это правило позволяет загружать пользовательские шрифты для использования
на странице. Такие шрифты [по-разному поддерживаются браузерами][4], однако
правило поддерживает разные условия, которые позволяют подключать и
использовать эти шрифты.

    @font-face {
      font-family: 'MyWebFont';
      src:  url('myfont.woff2') format('woff2'),
            url('myfont.woff') format('woff');
    }

### `@keyframes`

Это правило является базовым для создания [покадровой] [5] [анимации] [6] CSS-свойств, позволяя задавать начальные, конечные и промежуточные шаги анимации.

    @keyframes pulse {
      0% {
        background-color: #001f3f;
      }
      100% {
        background-color: #ff4136;
      }
    }

### `@media`

В этом правиле находятся условные выражения, применяющие определенные 
стили в зависимости от характеристик экрана. Эти выражения могут 
содержать, например, размеры экрана, что может пригодиться для 
создания [адаптивных стилей для различных устройств] [7]:

    /* iPhone в портретной и альбомной ориентации */
    @media only screen
      and (min-device-width: 320px)
      and (max-device-width: 480px)
      and (-webkit-min-device-pixel-ratio: 2) {

        .module { width: 100%; }

    }

Или добавлять стили только при печати документа:

    @media print {

    }

### `@page`

Это правило определяет стили для отдельных страниц при выводе на печать.
Например, оно содержит специальные псевдо-элементы для обращения к «первой»
(`:first`), а также «левой» (`:left`) и «правой» (`:right`) страницам при
печати двух страниц на листе.

    @page :first {
      margin: 1in;
    }

### `@supports`

Это правило определяет поддерживает ли браузер те или иные возможности,
и, если поддерживает, применяет к элементам заданные стили. Как
[Modernizr][8], но заточенный на проверку CSS-свойств.

    /* Проверка одного условия */
    @supports (display: flex) {
      .module { display: flex; }
    }

    /* Проверка нескольких условий */
    @supports (display: flex) and (-webkit-appearance: checkbox) {
      .module { display: flex; }
    }

Ниже, увы и ах, поддержка браузерами для этого правила:

| Chrome | Safari | Firefox | Opera | IE   | Android | iOS |
|:------:|:------:|:-------:|:-----:|:----:|:-------:|:---:|
| 28+    | Нет    | 31+     | 12.1+ | Edge | 4.4+    | Нет |

## Подводя итог

`@-правила` позволяют делать с CSS классные и безумные вещи. И хотя
представленные здесь примеры демонстрируют некоторые базовые возможности,
мы можем видеть как их можно использовать для создания стилей под 
самые разные условия, позволяя разрабатывать удобные интерфейсы 
и варианты взаимодействия в зависимости от разных сценариев.

 [1]: http://www.ascii.cl/htmlcodes.htm
 [2]: http://en.wikipedia.org/wiki/UTF-8
 [3]: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#Attributes
 [4]: https://css-tricks.com/snippets/css/using-font-face/
 [5]: https://css-tricks.com/snippets/css/keyframe-animation-syntax/
 [6]: https://css-tricks.com/almanac/properties/a/animation/
 [7]: https://css-tricks.com/snippets/css/media-queries-for-standard-devices/
 [8]: http://modernizr.com/
